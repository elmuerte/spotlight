/**
 * Spotlight.js v0.7.8
 * Copyright 2019-2021 Nextapps GmbH
 * Author: Thomas Wilkerling
 * Licence: Apache-2.0
 * https://github.com/nextapps-de/spotlight
 */
(function(){'use strict';Object.assign||(Object.assign=function(a,b){for(var c=Object.keys(b),e=0,f;e<c.length;e++)f=c[e],a[f]=b[f];return a});Element.prototype.closest||(Element.prototype.closest=function(a){a=a.substring(1);for(var b=this;b&&1===b.nodeType;){if(b.classList.contains(a))return b;b=b.parentElement}return null});function d(a,b){a.classList.add(b)}function g(a,b){a.classList.remove(b)}function aa(){var a=h,b;for(b in a)b.startsWith("_s_")&&a.style.setProperty(b.substring(3),a[b])}function k(a,b,c){c=""+c;a["_s_"+b]!==c&&(a.style.setProperty(b,c),a["_s_"+b]=c)}var ba=0;function ca(a,b){b&&(k(a,"transition","none"),b());ba||(ba=a.clientTop&&0);b&&k(a,"transition","")}function l(a,b,c,e){da(!0,a,b,c,e)}function da(a,b,c,e,f){b[(a?"add":"remove")+"EventListener"](c,e,f||!1===f?f:!0)}
function ea(a,b){a.stopPropagation();b&&a.preventDefault()}function m(a,b){k(a,"display",b?"":"none")}function fa(a,b){k(a,"visibility",b?"":"hidden")}function n(a,b){k(a,"transition",b?"":"none")};var ha="info theme download play page close autofit zoom-in zoom-out prev next fullscreen".split(" "),ia={info:0,page:1,close:1,autofit:1,"zoom-in":1,"zoom-out":1,prev:1,next:1,fullscreen:1};var p=document.createElement("div");p.id="spotlight";p.innerHTML="<div class=spl-spinner></div><div class=spl-track><div class=spl-scene><div class=spl-pane></div></div></div><div class=spl-header><div class=spl-page> </div></div><div class=spl-progress></div><div class=spl-footer><div class=spl-title> </div><div class=spl-description> </div><div class=spl-button> </div></div><div class=spl-prev></div><div class=spl-next></div>";var ja={},ka=document.createElement("video");function la(a,b,c,e){if("node"!==e)for(var f=Object.keys(c),r=0,y;r<f.length;r++)if(y=f[r],3<y.length&&0===y.indexOf("src"))if("video"===e){var H=ja[y];if(H){if(0<H){var Ma=c[y];break}}else if(ka.canPlayType("video/"+y.substring(3).replace("-","").toLowerCase())){ja[y]=1;Ma=c[y];break}else ja[y]=-1}else if(H=parseInt(y.substring(4),10))if(H=Math.abs(b-H),!mb||H<mb){var mb=H;Ma=c[y]}return Ma||c.src||c.href||a.src||a.href};var ma={},na=navigator.connection,oa=window.devicePixelRatio||1,q,t,u,v,w,x,pa,qa,z,A,ra,sa,ta,B,C,D,E,F,G,I,ua,va,J,wa,xa,ya,za,Aa,Ba,K,Ca,Da,Ea,Fa,L,Ga,Ha,Ia,Ja,M,N,O,Ka,h,La=document.createElement("img"),Na,Oa,P,Pa=!1,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Q,Ya,R,S,T,U,Za,V,$a;l(document,"click",ab);
function bb(){function a(c){return ma[c]=(p||document).getElementsByClassName("spl-"+c)[0]}if(!N){N=document.body;Na=a("scene");Oa=a("header");P=a("footer");Qa=a("title");Ra=a("description");Sa=a("button");Ta=a("prev");Ua=a("next");Wa=a("page");Q=a("progress");Ya=a("spinner");Ka=[a("pane")];W("close",cb);N[V="requestFullscreen"]||N[V="msRequestFullscreen"]||N[V="webkitRequestFullscreen"]||N[V="mozRequestFullscreen"]||(V="");V?($a=V.replace("request","exit").replace("mozRequest","mozCancel").replace("Request",
"Exit"),Va=W("fullscreen",db)):ha.pop();W("info",eb);W("autofit",fb);W("zoom-in",gb);W("zoom-out",hb);W("theme",ib);Xa=W("play",X);W("download",jb);l(Ta,"click",kb);l(Ua,"click",lb);var b=a("track");l(b,"mousedown",nb);l(b,"mousemove",ob);l(b,"mouseleave",pb);l(b,"mouseup",pb);l(b,"touchstart",nb,{passive:!1});l(b,"touchmove",ob,{passive:!0});l(b,"touchend",pb);l(Sa,"click",function(){Fa?Fa(E,I):Ea&&(location.href=Ea)})}}
function W(a,b){var c=document.createElement("div");c.className="spl-"+a;l(c,"click",b);Oa.appendChild(c);return ma[a]=c}function ab(a){if(!B){var b=a.target.closest(".spotlight");if(b){ea(a,!0);a=b.closest(".spotlight-group");G=(a||document).getElementsByClassName("spotlight");for(var c=0;c<G.length;c++)if(G[c]===b){va=a&&a.dataset;qb(c+1);break}}}}
function qb(a){if(F=G.length){N||bb();xa&&xa(a);for(var b=Ka[0],c=b.parentNode,e=Ka.length;e<F;e++){var f=b.cloneNode(!1);k(f,"left",100*e+"%");c.appendChild(f);Ka[e]=f}O||(N.appendChild(p),rb());E=a||1;n(Na);sb(!0);V&&m(Va,0<screen.availHeight-window.innerHeight);history.pushState({spl:1},"");history.pushState({spl:2},"");n(p,!0);d(N,"hide-scrollbars");d(p,"show");tb(!0);rb();ub();K&&X(!0,!0)}}function Y(a,b){a=I[a];return"undefined"!==typeof a?(a=""+a,"false"!==a&&(a||b)):b}
function vb(a){a?ca(h,vb):(n(Na,Ja),k(h,"opacity",Ia?0:1),wb(Ha&&.8),M&&d(h,M))}
function xb(a){O=Ka[a-1];h=O.firstChild;E=a;if(h)C&&fb(),Aa&&d(h,Aa),vb(!0),M&&g(h,M),Ia&&k(h,"opacity",1),Ha&&k(h,"transform",""),k(h,"visibility","visible"),S&&(La.src=S),K&&yb(T);else{var b=R.media,c=Y("spinner",!0);if("video"===b)zb(c,!0),h=document.createElement("video"),h.onloadedmetadata=function(){h===this&&(h.onerror=null,h.width=h.videoWidth,h.height=h.videoHeight,Ab(),zb(c),xb(a))},h.poster=I.poster,h.preload=Da?"auto":"metadata",h.controls=Y("controls",!0),h.autoplay=I.autoplay,h.i=Y("inline"),
h.muted=Y("muted"),h.src=R.src,O.appendChild(h);else{if("node"===b){h=R.src;"string"===typeof h&&(h=document.querySelector(h));h&&(h.g||(h.g=h.parentNode),h.h||(h.h=h.getAttribute("style")),aa(),Ab(),O.appendChild(h),xb(a));return}zb(c,!0);h=document.createElement("img");h.onload=function(){h===this&&(h.onerror=null,zb(c),xb(a),Ab())};h.src=R.src;O.appendChild(h)}h&&(c||k(h,"visibility","visible"),h.onerror=function(){h===this&&(Bb(h),d(Ya,"error"),zb(c))})}}
function zb(a,b){a&&(a=Ya,b?d(a,"spin"):g(a,"spin"))}function Cb(){return document.fullscreen||document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement}function Db(){rb();h&&Ab();if(V){var a=Cb(),b=Va;a?d(b,"on"):g(b,"on");a||m(Va,0<screen.availHeight-window.innerHeight)}}function rb(){w=p.clientWidth;x=p.clientHeight}function Ab(){pa=h.clientWidth;qa=h.clientHeight}function wb(a){k(h,"transform","translate(-50%, -50%) scale("+(a||z)+")")}
function Z(a,b){k(O,"transform",a||b?"translate("+a+"px, "+b+"px)":"")}function Eb(a,b,c){b?ca(Na,function(){Eb(a,!1,c)}):k(Na,"transform","translateX("+(100*-a+(c||0))+"%)")}function tb(a){da(a,window,"keydown",Fb);da(a,window,"wheel",Gb);da(a,window,"resize",Db);da(a,window,"popstate",Hb)}function Hb(a){O&&a.state.spl&&cb(!0)}
function Fb(a){if(O){var b=!1!==I["zoom-in"];switch(a.keyCode){case 8:b&&fb();break;case 27:cb();break;case 32:K&&X();break;case 37:kb();break;case 39:lb();break;case 38:case 107:case 187:b&&gb();break;case 40:case 109:case 189:b&&hb();break;case 73:eb()}}}function Gb(a){if(O&&!1!==I["zoom-in"]){var b=a.deltaY;b=.5*(0>b?1:b?-1:0);0>b?hb(a,a.clientX,a.clientY):0<b&&gb(a,a.clientX,a.clientY)}}
function X(a,b){("boolean"===typeof a?a:!T)===!T&&(T=T?clearTimeout(T):1,a=Xa,T?d(a,"on"):g(a,"on"),b||yb(T))}function yb(a){wa&&(ca(Q,function(){k(Q,"transition-duration","");k(Q,"transform","")}),a&&(k(Q,"transition-duration",Ga+"s"),k(Q,"transform","translateX(0)")));a&&(T=setTimeout(lb,1E3*Ga))}function ub(){Ba&&(Za=Date.now()+2950,U||(d(p,"menu"),Ib(3E3)))}function Ib(a){U=setTimeout(function(){var b=Date.now();b>=Za?(g(p,"menu"),U=0):Ib(Za-b)},a)}
function Jb(a){"boolean"===typeof a&&(U=a?U:0);U?(U=clearTimeout(U),g(p,"menu")):ub()}function nb(a){ea(a,!0);ra=!0;B=sa=!1;var b=a;(A=a=a.touches)&&(a=a[0])&&(b=a);ta=pa*z<=w&&qa*z<=x;u=b.pageX;v=b.pageY;n(O)}function pb(a){ea(a);A=null;if(ra){if(sa){if(ta&&sa){var b=(a=q<-(w/7)&&(E<F||J))||q>w/7&&(1<E||J);if(a||b)Eb(E-1,!0,q/w*100),a&&lb()||b&&kb();B&&t<-(x/4)?cb():t=q=0;Z()}n(O,!0)}else Jb();ra=!1}}
function Kb(a){return Math.sqrt(Math.pow(a[0].clientX-a[1].clientX,2)+Math.pow(a[0].clientY-a[1].clientY,2))}
function ob(a){ea(a);if(ra){var b=a.touches;if(!1!==I["zoom-in"]&&b&&2===b.length&&A&&2===A.length){var c=[.5*(b[0].clientX+b[1].clientX),.5*(b[0].clientY+b[1].clientY)];Lb(Kb(b)/Kb(A),c[0],c[1],!1)}(b=(A=b)&&b[0])&&(a=b);sa||(b=u-a.pageX,c=v-a.pageY,B=ta&&c>1.15*Math.abs(b));B?t-=v-(v=a.pageY):ta?q-=u-(u=a.pageX):(b=(pa*z-w)/2,c=Math.abs(b),0<b&&(q-=u-(u=a.pageX)),q>c?q=c:q<-c&&(q=-c),b=(qa*z-x)/2,c=Math.abs(b),0<b&&(t-=v-(v=a.pageY)),t>c?t=c:t<-c&&(t=-c));sa=!0;Z(q,t)}else ub()}
function db(a){var b=Cb();if("boolean"!==typeof a||a!==!!b)if(b)document[$a]();else p[V]()}function ib(a){"string"!==typeof a&&(a=D?"":Ca||"white");D!==a&&(D&&g(p,D),a&&d(p,a),D=a)}function fb(a){"boolean"===typeof a&&(C=!a);C=1===z&&!C;a=h;C?d(a,"autofit"):g(a,"autofit");k(h,"transform","");z=1;t=q=0;Ab();n(O);Z()}function Lb(a,b,c,e){var f=z*a;n(O,e);n(h,e);C&&fb();if(1>=f)q=t=0,Z(q,t),Mb(1);else if(!(50<f)){if(c){e=w/2;var r=x/2;q=b-(b-q-e)*a-e;t=c-(c-t-r)*a-r}else q*=a,t*=a;Z(q,t);Mb(f)}}
function gb(a,b,c){Lb(1/.65,b,c,!0)}function hb(a,b,c){Lb(.65,b,c,!0)}function Mb(a){z=a||1;wb()}function eb(){Pa=!Pa;fa(P,Pa)}function jb(){var a=N,b=document.createElement("a"),c=h.src;b.href=c;b.download=c.substring(c.lastIndexOf("/")+1);a.appendChild(b);b.click();a.removeChild(b)}
function cb(a){setTimeout(function(){N.removeChild(p);O=h=R=I=va=G=xa=ya=za=Fa=null;B=!1},200);g(N,"hide-scrollbars");g(p,"show");db(!1);tb();history.go(!0===a?-1:-2);S&&(La.src="");T&&X();h&&Bb(h);U&&(U=clearTimeout(U));D&&ib();L&&g(p,L);za&&za()}function Bb(a){if(a.g)a.setAttribute("style",a.h||""),a.g.appendChild(a),a.g=a.h=null;else{var b=a.parentNode;b&&b.removeChild(a);a.onerror=null;a.src=""}}function kb(a){a&&ub();if(1<F){if(1<E)return Nb(E-1);if(J)return Eb(F,!0),Nb(F)}}
function lb(a){a&&ub();if(1<F){if(E<F)return Nb(E+1);if(J)return Eb(-1,!0),Nb(1);T&&X()}}function Nb(a){if(a!==E){T?(clearTimeout(T),yb()):ub();var b=a>E;E=a;sb(b);return!0}}
function Ob(a){var b=G[E-1],c=b;I={};va&&Object.assign(I,va);Object.assign(I,c.dataset||c);ua=I.media;Fa=I.onclick;Ca=I.theme;L=I["class"];Ba=Y("autohide",!0);J=Y("infinite");wa=Y("progress",!0);K=Y("autoslide");Da=Y("preload",!0);Ea=I.buttonHref;Ga=K&&parseFloat(K)||7;D||Ca&&ib(Ca);L&&d(p,L);L&&ca(p);if(c=I.control){c="string"===typeof c?c.split(","):c;for(var e=0;e<ha.length;e++)I[ha[e]]=!1;for(e=0;e<c.length;e++){var f=c[e].trim();"zoom"===f?I["zoom-in"]=I["zoom-out"]=!0:I[f]=!0}}c=I.animation;
Ha=Ia=Ja=!c;M=!1;if(c)for(c="string"===typeof c?c.split(","):c,e=0;e<c.length;e++)f=c[e].trim(),"scale"===f?Ha=!0:"fade"===f?Ia=!0:"slide"===f?Ja=!0:f&&(M=f);Aa=I.fit;e=na&&na.downlink;c=Math.max(x,w)*oa;e&&1200*e<c&&(c=1200*e);var r;R={media:ua,src:la(b,c,I,ua),title:Y("title",b.alt||b.title||(r=b.firstElementChild)&&(r.alt||r.title))};S&&(La.src=S="");Da&&a&&(b=G[E])&&(a=b.dataset||b,(r=a.media)&&"image"!==r||(S=la(b,c,a,r)));for(b=0;b<ha.length;b++)a=ha[b],m(ma[a],Y(a,ia[a]))}
function sb(a){t=q=0;z=1;if(h)if(h.onerror)Bb(h);else{var b=h;setTimeout(function(){b&&h!==b&&(Bb(b),b=null)},650);vb();Z()}P&&fa(P,!1);Ob(a);Eb(E-1);g(Ya,"error");xb(E);n(O);Z();a=R.title;var c=Y("description"),e=Y("button"),f=a||c||e;f&&(a&&(Qa.firstChild.nodeValue=a),c&&(Ra.firstChild.nodeValue=c),e&&(Sa.firstChild.nodeValue=e),m(Qa,a),m(Ra,c),m(Sa,e),k(P,"transform","all"===Ba?"":"none"));Ba||d(p,"menu");Pa=f;fa(P,Pa);fa(Ta,J||1<E);fa(Ua,J||E<F);Wa.firstChild.nodeValue=1<F?E+" / "+F:"";ya&&ya(E,
I)};window.Spotlight={init:bb,theme:ib,fullscreen:db,download:jb,autofit:fb,next:lb,prev:kb,goto:Nb,close:cb,zoom:Mb,menu:Jb,show:function(a,b,c){G=a;b&&(va=b,xa=b.onshow,ya=b.onchange,za=b.onclose,c=c||b.index);qb(c)},play:X,addControl:W,removeControl:function(a){var b=ma[a];b&&(Oa.removeChild(b),ma[a]=null)}};}).call(this);
